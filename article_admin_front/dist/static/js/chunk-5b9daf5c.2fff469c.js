(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b9daf5c"],{"075a":function(t,e,a){"use strict";a("d539")},"4e82":function(t,e,a){"use strict";var n=a("23e7"),o=a("1c0b"),i=a("7b0b"),r=a("d039"),l=a("a640"),s=[],c=s.sort,u=r((function(){s.sort(void 0)})),d=r((function(){s.sort(null)})),h=l("sort"),p=u||!d||!h;n({target:"Array",proto:!0,forced:p},{sort:function(t){return void 0===t?c.call(i(this)):c.call(i(this),o(t))}})},"5a18":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"demo-input-suffix"},[[a("el-input",{staticStyle:{width:"160px","margin-right":"10px","margin-left":"16px"},attrs:{placeholder:"请输入职位名称","prefix-icon":"el-icon-search"},model:{value:t.search_name,callback:function(e){t.search_name=e},expression:"search_name"}}),a("el-button",{attrs:{type:"primary"},on:{click:t.fetchData}},[t._v("搜索")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.shareJob({},"home")}}},[t._v("分享首页")])]],2),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"职位名称",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.name)+" ")]}}])}),a("el-table-column",{attrs:{label:"浏览量",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.view_count))])]}}])}),a("el-table-column",{attrs:{label:"报名量",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.report_count)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",prop:"created_at",label:"申请时间",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.created_at))])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"created_at",label:"店铺信息",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-card",{attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",staticStyle:{width:"100px",height:"100px"},attrs:{src:e.row.store.logo}}),a("div",{staticStyle:{padding:"14px"}},[a("span",[t._v(t._s(e.row.store.name))])])])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"created_at",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-share"},on:{click:function(a){return t.shareJob(e.row,"job")}}},[t._v("分享 ")])]}}])})],1),a("el-pagination",{staticStyle:{float:"right","margin-top":"20px"},attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.currentPageSize,"current-page":t.currentPage},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}}),a("el-dialog",{attrs:{title:"生成邀请码",visible:t.dialogInviteCode,width:"30%","before-close":t.dialogInviteCodeClose},on:{"update:visible":function(e){t.dialogInviteCode=e}}},[a("span",[t._v("职位名称"+t._s(t.dialogJobName))]),a("div",{staticStyle:{"margin-top":"30px"}},[a("el-radio",{attrs:{label:"1",border:""},model:{value:t.shareMethod,callback:function(e){t.shareMethod=e},expression:"shareMethod"}},[t._v("分享二维码")]),a("el-radio",{attrs:{label:"2",border:""},model:{value:t.shareMethod,callback:function(e){t.shareMethod=e},expression:"shareMethod"}},[t._v("分享链接")])],1),t.jobShareUrl?a("el-image",{staticStyle:{width:"100px",height:"100px","margin-top":"12px"},attrs:{src:t.jobShareUrl}}):t._e(),t.shareText?a("span",{staticStyle:{"margin-top":"20px","font-size":"26px",display:"block"}},[t._v(t._s(t.shareText))]):t._e(),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogInviteCode=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.shareJobClick}},[t._v("生成分享码")])],1)],1)],1)},o=[],i=(a("4e82"),a("b0c0"),a("b775"));function r(t){return Object(i["a"])({url:"/v1/backend/jobs",method:"get",params:t})}function l(t,e){return Object(i["a"])({url:"/v1/jobs/"+t,method:"put",params:e})}function s(t){return Object(i["a"])({url:"/v1/backend/jobs/share",method:"post",data:t})}var c={filters:{statusFilter:function(t){var e={published:"success",draft:"gray",deleted:"danger"};return e[t]}},data:function(){return{shareMethod:1,shareSource:"job",shareText:"",disableGen:!0,jobShareUrl:"",dialogJobName:"",currentJobId:"",dialogUserMobile:"",dialogInviteCode:!1,list:null,listLoading:!0,visible:!1,auditReason:"",total:0,options:[{value:"-1",label:"全部"},{value:"0",label:"待审核"},{value:"1",label:"上架"},{value:"2",label:"下架"}],value:"-1",search_name:"",currentPage:1,currentPageSize:10}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.listLoading=!0,r({name:this.search_name,status:this.value,skip:(this.currentPage-1)*this.currentPageSize,limit:this.currentPageSize}).then((function(e){t.list=e.data.items,t.total=e.data.total,t.listLoading=!1}))},switchChange:function(t){l(t.id,{is_top:t.is_top?1:0}).then((function(t){console.log(t)}))},handleSortChange:function(t,e){l(t.id,{sort:t.sort}).then((function(t){console.log(t)}))},upStore:function(t){var e=this,a=this.$loading({lock:!0,text:"数据提交中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});l(t.id,{status:1}).then((function(t){e.visible=!1,a.close(),e.fetchData()}))},downStore:function(t){var e=this,a=this.$loading({lock:!0,text:"数据提交中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});l(t.id,{status:2}).then((function(t){e.visible=!1,a.close(),e.fetchData()}))},auditStore:function(t,e){var a=this,n=this.$loading({lock:!0,text:"数据提交中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});l(t.id,{status:e}).then((function(t){a.visible=!1,n.close(),a.fetchData()}))},updateStore:function(t){this.$router.push({name:"updateStore",query:{id:t.id}})},handleCurrentChange:function(t){this.fetchData()},shareJob:function(t,e){this.dialogInviteCode=!0,this.shareSource=e,t?(this.dialogJobName=t.name,this.currentJobId=t.id):(this.dialogJobName="分享首页",this.currentJobId=100)},shareJobClick:function(){var t=this;s({job_id:this.currentJobId,mobile:this.dialogUserMobile,source:this.shareSource,shareMethod:this.shareMethod}).then((function(e){console.log(e),1==t.shareMethod?(t.jobShareUrl=e.data.domain+e.data.path,t.shareText=""):(t.jobShareUrl="",t.shareText=e.data.path)}))},dialogInviteCodeClose:function(){this.dialogInviteCode=!1}}},u=c,d=(a("075a"),a("2877")),h=Object(d["a"])(u,n,o,!1,null,null,null);e["default"]=h.exports},d539:function(t,e,a){}}]);