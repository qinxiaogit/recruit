(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-852902ec"],{"713f":function(e,t,a){},e382:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"demo-input-suffix"},[[a("el-input",{staticStyle:{width:"160px","margin-right":"10px","margin-left":"16px"},attrs:{placeholder:"请输入用户昵称","prefix-icon":"el-icon-search"},model:{value:e.search_name,callback:function(t){e.search_name=t},expression:"search_name"}}),a("el-button",{attrs:{type:"primary"},on:{click:e.fetchData}},[e._v("搜索")])]],2),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"ID",width:"95"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.id)+" ")]}}])}),a("el-table-column",{attrs:{label:"用户昵称",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.nickname)+" ")]}}])}),a("el-table-column",{attrs:{label:"用户真实名称",width:"160",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.real_name))])]}}])}),a("el-table-column",{attrs:{label:"年龄",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.age)+" ")]}}])}),a("el-table-column",{attrs:{label:"联系方式",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.mobile))])]}}])}),a("el-table-column",{attrs:{label:"邀请码",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.invite_code)+" ")]}}])}),a("el-table-column",{attrs:{"class-name":"status-col",label:"性别",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(1===t.row.sex?"男":"女")+" ")]}}])}),a("el-table-column",{attrs:{align:"center",prop:"created_at",label:"注册时间",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.created_at))])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"created_at",label:"邀请人",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.invite_user?a("el-card",{attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.invite_user.avatar}}),a("div",{staticStyle:{padding:"14px"}},[a("span",[e._v(e._s(t.row.invite_user.nickname))])])]):a("span",[e._v(" 无邀请人")])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"created_at",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-share"},on:{click:function(a){return e.shareJob(t.row)}}},[e._v("分享 ")])]}}])})],1),a("el-pagination",{staticStyle:{float:"right","margin-top":"20px"},attrs:{background:"",layout:"prev, pager, next",total:e.total,"page-size":e.currentPageSize,"current-page":e.currentPage},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}}),a("el-dialog",{attrs:{title:"生成邀请码",visible:e.dialogInviteCode,width:"30%","before-close":e.dialogInviteCodeClose},on:{"update:visible":function(t){e.dialogInviteCode=t}}},[e.jobShareUrl?a("el-image",{staticStyle:{width:"100px",height:"100px","margin-top":"12px"},attrs:{src:e.jobShareUrl}}):e._e(),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogInviteCode=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",disabled:e.disableGen},on:{click:e.shareJobClick}},[e._v("生成分享码")])],1)],1)],1)},i=[],l=(a("b0c0"),a("c24f")),r=a("e53f"),o={filters:{statusFilter:function(e){var t={published:"success",draft:"gray",deleted:"danger"};return t[e]}},data:function(){return{disableGen:!1,jobShareUrl:"",dialogJobName:"",currentJobId:"",dialogUserMobile:"",dialogInviteCode:!1,list:null,listLoading:!0,visible:!1,auditReason:"",total:0,options:[{value:"-1",label:"全部"},{value:"0",label:"待审核"},{value:"1",label:"上架"},{value:"2",label:"下架"}],value:"-1",search_name:"",currentPage:1,currentPageSize:10}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.listLoading=!0,Object(l["a"])({nickname:this.search_name,skip:(this.currentPage-1)*this.currentPageSize,limit:this.currentPageSize}).then((function(t){e.list=t.data.items,e.total=t.data.total,e.listLoading=!1}))},handleCurrentChange:function(e){this.fetchData()},shareJob:function(e){this.dialogInviteCode=!0,this.dialogJobName=e.name,this.currentJobId=e.id,this.dialogUserMobile=e.mobile,console.log(e)},shareJobClick:function(){var e=this;Object(r["c"])({job_id:this.currentJobId,mobile:this.dialogUserMobile,source:"home"}).then((function(t){console.log(t),e.jobShareUrl=t.data.domain+t.data.path}))},dialogInviteCodeClose:function(){this.dialogInviteCode=!1},changeUserMobile:function(){this.disableGen=!1}}},s=o,c=(a("e66c"),a("2877")),u=Object(c["a"])(s,n,i,!1,null,null,null);t["default"]=u.exports},e53f:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return r}));var n=a("b775");function i(e){return Object(n["a"])({url:"/v1/jobs",method:"get",params:e})}function l(e,t){return Object(n["a"])({url:"/v1/jobs/"+e,method:"put",params:t})}function r(e){return Object(n["a"])({url:"/v1/jobs/share",method:"post",data:e})}},e66c:function(e,t,a){"use strict";a("713f")}}]);