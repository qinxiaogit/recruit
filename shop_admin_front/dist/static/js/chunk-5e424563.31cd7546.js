(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e424563"],{"8c29":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"220px"}},[a("el-form-item",{staticStyle:{width:"420px"},attrs:{label:"职位名称"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"职位分类"}},[a("el-cascader",{attrs:{options:t.options},on:{change:t.handleCascaderChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),a("el-form-item",{attrs:{label:"工作方式"}},[a("el-radio-group",{model:{value:t.form.method,callback:function(e){t.$set(t.form,"method",e)},expression:"form.method"}},[a("el-radio",{attrs:{label:1}},[t._v("线上")]),a("el-radio",{attrs:{label:2}},[t._v("线下")]),a("el-radio",{attrs:{label:0}},[t._v("不限")])],1)],1),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}},[a("el-radio",{attrs:{label:1}},[t._v("男")]),a("el-radio",{attrs:{label:2}},[t._v("女")]),a("el-radio",{attrs:{label:0}},[t._v("不限")])],1)],1),a("el-form-item",{attrs:{label:"结算方式"}},[a("el-radio-group",{model:{value:t.form.settlement,callback:function(e){t.$set(t.form,"settlement",e)},expression:"form.settlement"}},[a("el-radio",{attrs:{label:1}},[t._v("日结")]),a("el-radio",{attrs:{label:2}},[t._v("周结")]),a("el-radio",{attrs:{label:3}},[t._v("月结")]),a("el-radio",{attrs:{label:4}},[t._v("完工结")]),a("el-radio",{attrs:{label:5}},[t._v("其他")])],1)],1),a("el-form-item",{staticStyle:{width:"220px"},attrs:{label:"招募人数"}},[a("el-input-number",{attrs:{min:1,max:1e4,label:"招募人数"},model:{value:t.form.employ_count,callback:function(e){t.$set(t.form,"employ_count",e)},expression:"form.employ_count"}})],1),a("el-form-item",{attrs:{label:"工作时间"}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期",format:"yyyy 年 MM 月 dd 日","end-placeholder":"结束日期"},model:{value:t.form.work_start_time,callback:function(e){t.$set(t.form,"work_start_time",e)},expression:"form.work_start_time"}})],1)]),a("el-form-item",{attrs:{label:"工作内容"}},[a("el-input",{attrs:{autosize:{minRows:5,maxRows:5},type:"textarea"},model:{value:t.form.work_content,callback:function(e){t.$set(t.form,"work_content",e)},expression:"form.work_content"}})],1),a("el-form-item",{attrs:{label:"工作要求"}},[a("el-input",{attrs:{autosize:{minRows:5,maxRows:5},type:"textarea"},model:{value:t.form.work_require,callback:function(e){t.$set(t.form,"work_require",e)},expression:"form.work_require"}})],1),a("el-form-item",{attrs:{label:"薪资说明"}},[a("el-input",{attrs:{autosize:{minRows:5,maxRows:5},type:"textarea"},model:{value:t.form.salary_desc,callback:function(e){t.$set(t.form,"salary_desc",e)},expression:"form.salary_desc"}})],1),a("el-form-item",{attrs:{label:"薪资"}},[a("el-input-number",{staticStyle:{width:"160px","margin-right":"10px"},attrs:{min:1,max:1e4,label:"招募人数"},model:{value:t.form.salary,callback:function(e){t.$set(t.form,"salary",e)},expression:"form.salary"}}),a("el-select",{attrs:{placeholder:"单位"},model:{value:t.form.unit,callback:function(e){t.$set(t.form,"unit",e)},expression:"form.unit"}},[a("el-option",{attrs:{label:"小时",value:"小时"}}),a("el-option",{attrs:{label:"天",value:"天"}})],1)],1),a("el-form-item",{attrs:{label:"年龄限制"}},[a("el-input-number",{staticStyle:{width:"160px","margin-right":"10px"},attrs:{min:0,max:100,label:"年龄限制"},model:{value:t.form.age_start,callback:function(e){t.$set(t.form,"age_start",e)},expression:"form.age_start"}}),a("span",[t._v("至")]),a("el-input-number",{staticStyle:{width:"160px","margin-left":"10px"},attrs:{min:0,max:100,label:"招募人数"},model:{value:t.form.age_end,callback:function(e){t.$set(t.form,"age_end",e)},expression:"form.age_end"}})],1),a("el-form-item",{attrs:{label:"联系方式-二维码"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.postUrl,"show-file-list":!1,"on-success":t.handleAvatarSuccess,headers:t.fileToken}},[t.form.contact_qrcode?a("img",{staticClass:"avatar",staticStyle:{width:"160px"},attrs:{src:t.form.contact_qrcode}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{staticStyle:{width:"420px"},attrs:{label:"联系方式-手机号"}},[a("el-input",{model:{value:t.form.contact_mobile,callback:function(e){t.$set(t.form,"contact_mobile",e)},expression:"form.contact_mobile"}})],1),a("el-form-item",{staticStyle:{width:"420px"},attrs:{label:"联系方式-QQ"}},[a("el-input",{model:{value:t.form.contact_qq,callback:function(e){t.$set(t.form,"contact_qq",e)},expression:"form.contact_qq"}})],1),a("el-form-item",{staticStyle:{width:"420px"},attrs:{label:"联系方式-微信"}},[a("el-input",{model:{value:t.form.contact_wx,callback:function(e){t.$set(t.form,"contact_wx",e)},expression:"form.contact_wx"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确定")]),a("el-button",{on:{click:t.onCancel}},[t._v("取消")])],1)],1)],1)},r=[],n=(a("b0c0"),a("5f87")),l=a("b814"),s=a("e53f"),i={data:function(){return{form:{name:"",type:"type",method:0,sex:0,settlement:"0",employ_count:0,work_start_time:"",work_end_time:"",work_require:"",work_content:"",salary_desc:"",salary:"",unit:"",age_start:0,age_end:0,contact_qrcode:"",contact_mobile:"",contact_qq:"",contact_wx:""},options:[],value:[],fileToken:{},postUrl:""}},created:function(){this.initOption(),this.fileToken["Authorization"]=Object(n["a"])(),this.postUrl="http://shop.yunqirenli.com/api/v1/public/upload"},methods:{handleAvatarSuccess:function(t,e){this.form.contact_qrcode=t.data.domain+t.data.path},handleCascaderChange:function(){},handleDate:function(t){var e=t.getFullYear(),a=t.getMonth()+1;a<10&&(a="0"+a);var o=t.getDate()+1;return o<10&&(o="0"+o),e+""+a+o},onSubmit:function(){var t=this.form,e=this;t["one_cate_id"]=this.value[0],t["two_cate_id"]=this.value[1];var a=t.work_start_time;t.work_start_time=this.handleDate(a[0]),t.work_end_time=this.handleDate(a[1]),this.$route.query.id?Object(s["a"])(this.$route.query.id,t).then((function(t){e.$message({message:"操作成功!",type:"warning"}),e.$router.push({name:"jobManage"})})):Object(s["d"])(t).then((function(t){e.$message({message:"操作成功!",type:"warning"}),e.$router.push({name:"jobManage"})}))},onCancel:function(){this.$message({message:"正在返回上一页!",type:"warning"}),this.$router.push({name:"jobManage"})},initJob:function(){if(console.log(this.$route.query),this.$route.query.id){var t=this;Object(s["h"])(this.$route.query.id).then((function(e){t.form.name=e.data.name,t.form.method=parseInt(e.data.method),t.form.sex=parseInt(e.data.sex),t.form.settlement=e.data.settlement,t.form.employ_count=e.data.employ_count;var a=e.data.work_start_time+"",o=e.data.work_end_time+"";t.form.work_start_time=[new Date(a.substr(0,4),a.substr(4,2),a.substr(6,2)),new Date(o.substr(0,4),o.substr(4,2),o.substr(6,2))],t.form.work_require=e.data.work_require,t.form.work_content=e.data.work_content,t.form.salary_desc=e.data.salary_desc,t.form.salary=e.data.salary,t.form.unit=e.data.unit,t.form.age_start=e.data.age_start,t.form.age_end=e.data.age_end,t.form.contact_qrcode=e.data.contact_qrcode,t.form.contact_qq=e.data.contact_qq,t.form.contact_wx=e.data.contact_wx,t.form.contact_mobile=e.data.contact_mobile,t.value=[e.data.one_cate_id,e.data.two_cate_id],console.log(t.value)}))}},initOption:function(){var t=this;Object(l["c"])({parent_id:0}).then((function(e){var a=e.data;t.options=a,t.initJob()}))}}},c=i,m=(a("eeb1"),a("2877")),u=Object(m["a"])(c,o,r,!1,null,"eb945cf6",null);e["default"]=u.exports},b814:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"a",(function(){return n})),a.d(e,"c",(function(){return l}));var o=a("b775");function r(t){return Object(o["a"])({url:"/v1/job_cat/all",method:"get",params:t})}function n(t){return Object(o["a"])({url:"/v1/job_cat",method:"post",params:t})}function l(t){return Object(o["a"])({url:"/v1/job_cat/tree",method:"get",params:t})}},e2a9:function(t,e,a){},e53f:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"h",(function(){return l})),a.d(e,"d",(function(){return s})),a.d(e,"a",(function(){return i})),a.d(e,"f",(function(){return c})),a.d(e,"g",(function(){return m})),a.d(e,"e",(function(){return u}));var o=a("b775");function r(t){return Object(o["a"])({url:"/v1/jobs",method:"get",params:t})}function n(t,e){return Object(o["a"])({url:"/v1/jobs/"+t,method:"put",params:e})}function l(t){return Object(o["a"])({url:"/v1/jobs/"+t,method:"get"})}function s(t){return Object(o["a"])({url:"/v1/jobs/store",method:"post",data:t})}function i(t,e){return Object(o["a"])({url:"/v1/jobs/edit/"+t,method:"post",data:e})}function c(t){return Object(o["a"])({url:"/v1/jobs/report",method:"POST",data:t})}function m(t){return Object(o["a"])({url:"/v1/jobs/report_status",method:"POST",data:t})}function u(t,e){return Object(o["a"])({url:"/v1/jobs/"+t,method:"DELETE",data:e})}},eeb1:function(t,e,a){"use strict";a("e2a9")}}]);